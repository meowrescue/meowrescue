<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://sfrlnidbiviniuqhryyc.supabase.co; connect-src 'self' https://sfrlnidbiviniuqhryyc.supabase.co; frame-src 'self' https://sfrlnidbiviniuqhryyc.supabase.co; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' data: https://fonts.gstatic.com; img-src 'self' data: blob: https://sfrlnidbiviniuqhryyc.supabase.co;">
    <script>
  window.SUPABASE_URL = 'https://sfrlnidbiviniuqhryyc.supabase.co';
  window.SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNmcmxuaWRiaXZpbml1cWhyeXljIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzU5MTE2MDAsImV4cCI6MTk5MTQ4NzYwMH0.C4YXI-X9YmNcEUei0g9K0D7Y5W568dpKKEkEdnH0_vE';
  
  // Patch fetch to fix Supabase API issues
  const originalFetch = window.fetch;
  window.fetch = function(url, options = {}) {
    // Check if this is a Supabase API call
    if (typeof url === 'string' && url.includes('sfrlnidbiviniuqhryyc.supabase.co')) {
      // Ensure options and headers exist
      options = options || {};
      options.headers = options.headers || {};
      
      // Add required headers for Supabase REST API
      options.headers = {
        ...options.headers,
        'apikey': window.SUPABASE_KEY,
        'Accept': 'application/json',
        'Content-Type': 'application/json',
        'X-Client-Info': 'meowrescue/1.0.0'
      };
      
      // Ensure credentials are included
      options.credentials = 'include';
    }
    
    // Call the original fetch
    return originalFetch(url, options);
  };
</script>
    <script src="/supabase-fix.js"></script>
    <script src="/supabase-client-fix.js"></script>
    <script src="/supabase-api-fix.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    <script>
        // Simple SPA router helper
        (function() {
            // Get the current path from the URL
            var path = window.location.pathname;
            
            // Redirect to the root with a path parameter
            window.location.href = '/?path=' + encodeURIComponent(path);
        })();
    </script>
    <script src="/supabase-env.js"></script>
    <script src="/blog-query-fix.js"></script>
  </head>
<body>
    <p>Redirecting to Meow Rescue...</p>
</body>
</html>
